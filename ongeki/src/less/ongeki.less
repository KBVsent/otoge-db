@import (reference) '../../../shared/src/less/_variables.less';

@import '../../../shared/src/less/_css-variables.less';
@import '../../../shared/src/less/_elements.less';
@import '../../../shared/src/less/datatables.less';
@import '../../../shared/src/less/frame.less';
@import '../../../shared/src/less/header.less';
@import '../../../shared/src/less/toolbar.less';
@import '../../../shared/src/less/table.less';
@import '../../../shared/src/less/modal.less';
@import '../../../shared/src/less/footer.less';

.ongeki-variables-common() {
	--logo-size-mobile: 160px;
	--logo-size: 240px;

	--header-gradient-stop-01: var(--color-accent-03);
	--header-gradient-stop-02: var(--color-accent-04);
	--header-gradient-stop-03: var(--color-accent-01);
	--header-gradient-stop-04: var(--color-accent-02);

	--toolbar-gradient-stop-01: var(--color-accent-02);
	--toolbar-gradient-stop-02: var(--color-accent-03);
	--toolbar-gradient-stop-03: var(--color-accent-04);

	--color-accent-primary: 20,206,248; /* #14cef8 */
	--color-accent-01: 240,255,184; /* #F0FFB8 */
	--color-accent-02: 182,189,253; /* #B6BDFD */
	--color-accent-03: 165,234,255; /* #a5eaff */
	--color-accent-04: 254,203,243; /* #FECBF3 */
	--chartlink-img-aspect-ratio: ~'47/40';

	--footer-icon: url('./img/ongeki-db-icon.png');
}

.ongeki-variables-light() {
	--logo-url: url('./img/ongeki-db-logo-2022-bow.svg');

	--lv-color-bsc: 34,173,57; /* #22ad39 */
	--lv-color-adv: 243,152,0; /* #f39800 */
	--lv-color-exp: 234,56,134; /* #ea3886 */
	--lv-color-mas: 165,71,213; /* #a547d5 */
	--lv-color-lnt: 217,54,44; /* #d9362c */
	--lv-color-lnt-bg: var(--ui-color-background-050);
}

.ongeki-variables-dark() {
	--logo-url: url('./img/ongeki-db-logo-2022-wob.svg');

	--lv-color-bsc: 101,211,70; /* #65d346 */
	--lv-color-adv: 251,230,77; /* #fbe64d */
	--lv-color-exp: 234,56,134; /* #ea3886 */
	--lv-color-mas: 165,71,213; /* #a547d5 */
	--lv-color-lnt: 217,54,44; /* #d9362c */
	--lv-color-lnt-bg: 255,255,255;
}

// Variables
:root {
	.variables-light();
	.ongeki-variables-common();
	.ongeki-variables-light();
}

:root[data-theme="dark"] {
	.variables-dark();
	.ongeki-variables-dark();
}

@media (prefers-color-scheme: dark) {
	:root:not([data-theme="light"]) {
		.variables-dark();
		.ongeki-variables-dark();
	}
}

// Header
header {
	h1 {
		a {
			margin-left: -5px;
		}
	}
}

table.dataTable {
	.lv-lnt .inner-wrap,
	.lev_lnt .inner-wrap,
	.dx_lev_lnt .inner-wrap {
		background: rgba(var(--lv-color-lnt-bg),0.1);
		box-shadow: 0 0 0 1px rgba(var(--lv-color-lnt),0.3) inset;

		.diff-name {
			color: rgb(var(--lv-color-lnt));
		}
	}
}

/* Details */
div.dtr-modal-content .details-table {
	// chara details
	.chara-img {
		--size: 150px;
		--border-width: 4px;
		--type-color-fire: 225,42,91;
		--type-color-aqua: 34,129,204;
		--type-color-leaf: 19,174,42;
		position: absolute;
		bottom: 0px;
		right: 15px;
		display: inline-block;
		width: var(--size);
		aspect-ratio: ~'176 / 216';
		border-radius: 0 0 var(--size) var(--size);
		overflow: hidden;

		// border + bg
		&:before {
			content:"";
			position: absolute;
			width: var(--size);
			height: var(--size);
			bottom: 0;
			border-radius: var(--size) var(--size);
			background-color: rgb(var(--ui-color-background-080));
			background-image: linear-gradient(rgba(var(--type-color),0.3),rgb(var(--type-color),0.3));
			box-shadow: 0 0 0 var(--border-width) rgba(var(--type-color),0.5) inset;
		}

		// character img
		&:after {
			content:"";
			position: absolute;
			inset: 0;
			background-image: var(--chara-img);
			background-size: 100%;
		}

		&.fire {
			--type-color: var(--type-color-fire);
		}
		&.aqua {
			--type-color: var(--type-color-aqua);
		}
		&.leaf {
			--type-color: var(--type-color-leaf);
		}
		&.multi:before {
			background-image:
				radial-gradient(circle, rgba(var(--ui-color-background-080),0.8) calc(var(--size)/2 - var(--border-width) - 1px), rgba(var(--ui-color-background-080),0) calc(var(--size)/2 - var(--border-width))),
				conic-gradient(rgba(225,42,91,1) 0deg,rgba(225,42,91,1) 60deg,rgb(19,174,42,1) 70deg, rgb(19,174,42,1) 170deg,rgb(34,129,204,1) 190deg, rgb(34,129,204,1) 290deg, rgba(225,42,91,1) 300deg);
		}
	}

	// chart details
	// &.chart-details:not(.lunatic) {
	//     .lv-lnt {
	//         display: none;
	//     }
	// }

	// &.chart-details.lunatic {
	//     .lv-bsc, .lv-adv, .lv-exp, .lv-mas {
	//         display: none;
	//     }
	// }

	.notes-detail-wrap {
		grid-template-columns: 1fr 1fr;
		width: auto !important;
	}
}
